<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyd Ynni</title>

    <link rel="stylesheet" type="text/css" href="style.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

    <!--[if IE]><script language="javascript" type="text/javascript" src="lib/flot/excanvas.min.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="lib/jquery-1.11.3.min.js"></script>
    <script language="javascript" type="text/javascript" src="lib/vis.helper.js"></script>
    <script language="javascript" type="text/javascript" src="lib/graph_bars.js"></script>
  </head>
  <body>
  
  <!-- OK TO USE? TAB ------------------------------------------------------->

  <div class="accordion" style="background-color:#27c93f"><div class="title">OK to use? </div></div>
  <div id="oktouse" style="background-color:#27c93f" class="panel">
    <div class="panel-inner">
      <br><br>
      <p>If possible</p>

      <img src="stop.png" style="width:100px">
      <div class="status">WAIT</div>
      <p>until <b>10<span style="font-size:12px">AM</span></b> <span style="font-size:12px">(39 MINUTES)</span></p>
      <br>
      <p>After that the next best time to use power<br>is <b>9pm - 11pm.</b></p>
    </div>
  </div>
  
  <!-- TARIFF TAB ------------------------------------------------------->

  <div class="accordion" style="background-color:#22a835"><div class="title">Tariffs</div></div>
  <div class="panel"  style="background-color:#22a835">
    <div class="panel-inner">
      <div class="tariff-block">
        <div class="tariff-time">6AM - 11AM</div>
        <div class="tariff-desc">BREAKFAST PEAK - 13 PENCE PER UNIT</div>
      </div>
      <div class="tariff-block">
        <div class="tariff-time">11AM - 5PM</div>
        <div class="tariff-desc">MIDDLE OF THE DAY - 11 PENCE PER UNIT</div>
      </div>
      <div class="tariff-block">
        <div class="tariff-time">5PM - 9PM</div>
        <div class="tariff-desc">EVENING PEAK - 15.4 PENCE PER UNIT</div>
      </div>
      <div class="tariff-block">
        <div class="tariff-time">11PM - 6AM</div>
        <div class="tariff-desc">OVERNIGHT - 8.3 PENCE PER UNIT</div>
      </div>
    </div>
  </div>
  
  <!-- HYDRO TAB ------------------------------------------------------->

  <div class="accordion" style="background-color:#1b872a"><div class="title">Hydro</div></div>
  <div class="panel" style="background-color:#1b872a">
    <div class="panel-inner">
    
      <div style="height:100px; overflow:hidden">
          <div class="status"><span id="hydrostatus"></span></div>
          <p>Currently generating <b><span id="power"></span> kW</b></p>
      </div>
        <div id="placeholder_bound" style="height:100%">
              <canvas id="placeholder"></canvas>
        </div>
    </div>
  </div>

  <!--------------------------------------------------------->
  
  <div class="icon-bar">
    <a class="active" href="#"><i class="fa fa-home"></i></a>
    <a href="#"><i class="fa fa-search"></i></a>
    <a href="#"><i class="fa fa-envelope"></i></a>
    <a href="#"><i class="fa fa-globe"></i></a>
    <a href="#"><i class="fa fa-trash"></i></a>
  </div>

  </body>
</html>

<script language="javascript" type="text/javascript" src="hydro.js"></script>

<script>

var panel_height = $(window).height() - 62*3 - 50;

$("#oktouse").show();
var height = $(window).height() - 62*3 - 50;
$("#oktouse").height(height);

$(".accordion").click(function() {
  // Hide and disable all panels
  $(".panel").attr("active",0);
  $(".panel").height(0);
  
  // Show only clicked panel
  panel_height = $(window).height() - 62*3 - 50;
  $(this).next().attr("active",1);
  $(this).next().height(panel_height);
  graph_resize(panel_height-40-100);
});

$(window).resize(function(){
  panel_height = $(window).height() - 62*3 - 50;
  $(".panel[active=1]").height(panel_height);
  graph_resize(panel_height-40-100);
});

</script>

